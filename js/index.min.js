'use strict';
function init(e) {
	var t = new e.Map('map', { center: [59.93944115603922, 30.32302403991186], zoom: 16, controls: ['zoomControl'] }),
		o = new e.Placemark(
			[59.938633647616214, 30.32304549758399],
			{},
			{
				iconLayout: 'default#image',
				iconImageHref: 'img/icon-map-pin.svg',
				iconImageSize: [66, 101],
				iconImageOffset: [-33, -101],
			}
		);
	t.behaviors.disable('scrollZoom'), t.geoObjects.add(o);
}
svg4everybody(),
	(function () {
		var e = document.getElementById('toggle-button'),
			t = document.querySelector('.main-nav'),
			o = document.querySelector('.site-navigation'),
			n = document.querySelector('.user-navigation');
		t &&
			t.classList.contains('main-nav--no-js') &&
			(t.classList.remove('main-nav--no-js'),
			o && n && (o.classList.add('site-navigation--closed'), n.classList.add('user-navigation--closed'))),
			e &&
				e.addEventListener('click', function (e) {
					e.preventDefault(),
						o.classList.toggle('site-navigation--closed'),
						n.classList.toggle('user-navigation--closed'),
						this.classList.toggle('main-nav__toggle--off');
				});
		var a = document.querySelector('.modal-overlay'),
			s = document.querySelector('.catalog'),
			i = document.querySelector('.week-goods__button');
		function c(e) {
			var t = e.target;
			(t.classList.contains('card-product__button') || t.classList.contains('week-goods__button')) &&
				(e.preventDefault(), a.classList.add('modal-overlay--opened'));
		}
		function l(e) {
			(e.target.classList.contains('modal-overlay') || 27 === e.keyCode) &&
				a.classList.remove('modal-overlay--opened');
		}
		a &&
			(s && s.addEventListener('click', c),
			i && i.addEventListener('click', c),
			a.addEventListener('click', l),
			window.addEventListener('keydown', l));
	})();
